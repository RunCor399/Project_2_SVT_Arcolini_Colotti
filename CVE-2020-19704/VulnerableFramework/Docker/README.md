# **Application Deployment Cheatsheet**

**Only one of the following alternatives** shall be chosen in order to successfully deploy the infrastructure. </br>
Every command must be executed from within **Docker** folder, **unless otherwise specified**.

</br>

## **Suggested Deployment**

Execute the bash script that will automatically use **Docker Compose** to launch the two infrastructure services:

~~~
./deploy_infrastructure.sh
~~~

</br>

## **Run Application JAR, Deploy MySQL DBMS**

Mixed approach in which the **application is executed through its .jar file** and MySQL DBMS is deployed with **Docker Compose**.

It is crucial for this to work, that the **MySQL DBMS service is started before the application**.

Steps:

- **Deploy MySQL DBMS**

~~~
docker-compose up -d db
~~~

</br>

- **Execute Application jar file** 
</br>

Navigate to **.../VulnerableFramework/jar** directory and run the following command:

~~~
java -jar SpringBootAdmin.jar
~~~

</br>

## **Build Application on the run and deploy**
**ATTENTION**: this deployment method was tested and worked in Linux Ubuntu and on a Mac with an M1 chip.
It was also tested on Windows but the build procedure generates errors most of the times.

This last deployment technique is only advised if it is wanted to modify the docker image of the application since **it is error prone** depending on the architecture in which it is executed. </br> In this case **Docker Compose** is still used but this time instead of pulling the application container image from **Docker Hub**, the latter is built on the fly using **App_Dockerfile**.


Usage:
~~~
./build_and_deploy.sh
~~~

</br>




## **Tear down the deployment**

</br>

In order to tear down the infrastructure it will only be necessary to issue this command:

~~~
docker-compose down --volumes
~~~

        
        


